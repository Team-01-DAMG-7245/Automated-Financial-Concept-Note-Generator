Troubleshooting Portfolio Optimization Results

Portfolio Object Destroyed When Modifying

If a Portfolio object is destroyed when modifying, remember to pass an existing object into the
Portfolio object if you want to modify it, otherwise it creates a new object. See “Creating the
Portfolio Object” on page 4-25 for details.

Optimization Fails with “Bad Pivot” Message

If the optimization fails with a "bad pivot" message from lcprog, try a larger value for tolpiv which
is a tolerance for pivot selection in the lcprog algorithm (try 1.0e-7, for example) or try the
interior-point-convex version of quadprog. For details, see “Choosing and Controlling the
Solver for Mean-Variance Portfolio Optimization” on page 4-114, the help header for lcprog, and
quadprog.

Speed of Optimization

Although it is difficult to characterize when one algorithm is faster than the other, the default solver,
lcprog is faster for smaller problems and the quadprog solver is faster for larger problems. If one
solver seems to take too much time, try the other solver. To change solvers, use setSolver.

Matrix Incompatibility and "Non-Conformable" Errors

If you get matrix incompatibility or "non-conformable" errors, the representation of data in the tools
follows a specific set of basic rules described in “Conventions for Representation of Data” on page 4-
23.

Missing Data Estimation Fails

If asset return data has missing or NaN values, the estimateAssetMoments function with the
'missingdata' flag set to true may fail with either too many iterations or a singular covariance. To
correct this problem, consider this:

•
If you have asset return data with no missing or NaN values, you can compute a covariance matrix
that may be singular without difficulties. If you have missing or NaN values in your data, the
supported missing data feature requires that your covariance matrix must be positive-definite,
that is, nonsingular.

•
estimateAssetMoments uses default settings for the missing data estimation procedure that
might not be appropriate for all problems.

In either case, you might want to estimate the moments of asset returns separately with either the
ECM estimation functions such as ecmnmle or with your own functions.

mv_optim_transform Errors

If you obtain optimization errors such as:

Error using mv_optim_transform (line 233)
Portfolio set appears to be either empty or unbounded. Check constraints.

Troubleshooting Portfolio Optimization Results

4-145